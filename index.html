<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IMS Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <!-- Lucide Icons for better aesthetics -->
    <script type="module">
        import { createIcons, Menu, Bell, MessageSquare, User, ChevronDown, ShoppingCart, Package, Users, Settings, BarChart, HardHat, FileText, Factory, TrendingUp } from 'https://cdn.skypack.dev/lucide@latest';
        createIcons({ icons: { Menu, Bell, MessageSquare, User, ChevronDown, ShoppingCart, Package, Users, Settings, BarChart, HardHat, FileText, Factory, TrendingUp } });
    </script>
    <!-- Chart.js CDN for interactive charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
    <style>
        :root {
            --primary-color: #3b82f6; /* Blue-500 */
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6; /* Gray-100 */
        }
        .nav-icon {
            width: 1.25rem;
            height: 1.25rem;
            margin-right: 0.75rem;
            flex-shrink: 0;
        }
        .sidebar {
            transition: transform 0.3s ease-in-out;
            /* Ensures sidebar is fixed on mobile/tablet */
            transform: translateX(0); /* Default visible */
        }
        .sidebar-item {
            cursor: pointer;
            user-select: none;
        }
        @media (max-width: 767px) {
            .sidebar {
                transform: translateX(-100%); /* Hidden by default on mobile */
                position: fixed;
                height: 100vh;
                top: 0;
                left: 0;
                z-index: 50;
            }
            .sidebar.is-open {
                transform: translateX(0);
            }
        }
        /* Custom scrollbar for main content */
        .main-content {
            overflow-y: auto;
            max-height: 100vh;
        }
        /* Style for sub-menu */
        .sub-menu {
            transition: max-height 0.3s ease-out, opacity 0.3s ease-out;
            overflow: hidden;
            max-height: 0;
            opacity: 0;
        }
        .sub-menu.is-open {
            max-height: 300px; /* Large enough to fit sub-items */
            opacity: 1;
        }
        .sub-menu a.active {
            background-color: #e0f2fe; /* blue-50 */
            color: #1d4ed8; /* blue-700 */
            font-weight: 600;
        }
    </style>
</head>
<body class="flex min-h-screen">

    <!-- Sidebar Navigation -->
    <!-- Note: The sidebar structure is consistent across all generated pages -->
    <nav id="sidebar" class="sidebar flex-shrink-0 w-64 bg-white shadow-xl md:shadow-lg md:sticky top-0 z-40 p-4 border-r border-gray-100">
        
        <!-- Logo/Title -->
        <div class="flex items-center justify-start p-3 mb-6 border-b border-gray-200">
            <svg class="w-8 h-8 text-blue-600 mr-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM6 10a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zM8 13a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"></path></svg>
            <h1 class="text-xl font-bold text-gray-800">IMS Control</h1>
        </div>

        <!-- Navigation Links -->
        <div class="space-y-2">
            
            <!-- Dashboard (Active) -->
            <a href="dashboard.html" class="flex items-center p-3 text-sm font-semibold text-white bg-blue-600 rounded-lg shadow-md">
                <svg class="nav-icon" data-lucide="bar-chart"></svg>
                ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°
            </a>

            <!-- Products Menu (Dropdown) -->
            <div class="sidebar-item">
                <div class="flex items-center justify-between p-3 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-100">
                    <div class="flex items-center">
                        <svg class="nav-icon" data-lucide="package"></svg>
                        ‡¶™‡¶£‡ßç‡¶Ø (Products)
                    </div>
                    <svg class="w-4 h-4 text-gray-500 transition-transform duration-200" data-lucide="chevron-down"></svg>
                </div>
                <div class="sub-menu ml-4">
                    <a href="all_products.html" class="block p-2 text-xs text-gray-600 rounded-md hover:bg-gray-50">‡¶∏‡¶Æ‡¶∏‡ßç‡¶§ ‡¶™‡¶£‡ßç‡¶Ø</a>
                    <a href="categories.html" class="block p-2 text-xs text-gray-600 rounded-md hover:bg-gray-50">‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶ó‡¶∞‡¶ø</a>
                    <a href="add_new_product.html" class="block p-2 text-xs text-gray-600 rounded-md hover:bg-gray-50">‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶£‡ßç‡¶Ø ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</a>
                </div>
            </div>

            <!-- Orders Menu (Dropdown) -->
            <div class="sidebar-item">
                <div class="flex items-center justify-between p-3 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-100">
                    <div class="flex items-center">
                        <svg class="nav-icon" data-lucide="shopping-cart"></svg>
                        ‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ (Orders)
                    </div>
                    <svg class="w-4 h-4 text-gray-500 transition-transform duration-200" data-lucide="chevron-down"></svg>
                </div>
                <div class="sub-menu ml-4">
                    <a href="sales_orders.html" class="block p-2 text-xs text-gray-600 rounded-md hover:bg-gray-50">‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡ßü ‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞</a>
                    <a href="purchase_orders.html" class="block p-2 text-xs text-gray-600 rounded-md hover:bg-gray-50">‡¶ï‡ßç‡¶∞‡ßü ‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞</a>
                    <a href="invoices.html" class="block p-2 text-xs text-gray-600 rounded-md hover:bg-gray-50">‡¶á‡¶®‡¶≠‡ßü‡ßá‡¶∏</a>
                </div>
            </div>

            <!-- Suppliers (Dropdown Added) -->
            <div class="sidebar-item">
                <div class="flex items-center justify-between p-3 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-100">
                    <div class="flex items-center">
                        <svg class="nav-icon" data-lucide="factory"></svg>
                        ‡¶∏‡¶∞‡¶¨‡¶∞‡¶æ‡¶π‡¶ï‡¶æ‡¶∞‡ßÄ (Suppliers)
                    </div>
                    <svg class="w-4 h-4 text-gray-500 transition-transform duration-200" data-lucide="chevron-down"></svg>
                </div>
                <div class="sub-menu ml-4">
                    <a href="all_suppliers.html" class="block p-2 text-xs text-gray-600 rounded-md hover:bg-gray-50">‡¶∏‡¶Æ‡¶∏‡ßç‡¶§ ‡¶∏‡¶∞‡¶¨‡¶∞‡¶æ‡¶π‡¶ï‡¶æ‡¶∞‡ßÄ</a>
                    <a href="#" class="block p-2 text-xs text-gray-600 rounded-md hover:bg-gray-50">‡¶®‡¶§‡ßÅ‡¶® ‡¶∏‡¶∞‡¶¨‡¶∞‡¶æ‡¶π‡¶ï‡¶æ‡¶∞‡ßÄ ‡¶Ø‡ßã‡¶ó</a>
                    <a href="#" class="block p-2 text-xs text-gray-600 rounded-md hover:bg-gray-50">‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü</a>
                </div>
            </div>

            <!-- Stock Control (Static Link) -->
            <a href="#" class="flex items-center p-3 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-100">
                <svg class="nav-icon" data-lucide="hard-hat"></svg>
                ‡¶∏‡ßç‡¶ü‡¶ï ‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶≤
            </a>

            <!-- Reports (Dropdown Added) -->
            <div class="sidebar-item">
                <div class="flex items-center justify-between p-3 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-100">
                    <div class="flex items-center">
                        <svg class="nav-icon" data-lucide="trending-up"></svg>
                        ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ì ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶®‡¶æ‡¶≤‡¶ø‡¶ü‡¶ø‡¶ï‡ßç‡¶∏
                    </div>
                    <svg class="w-4 h-4 text-gray-500 transition-transform duration-200" data-lucide="chevron-down"></svg>
                </div>
                <div class="sub-menu ml-4">
                    <a href="sales_report.html" class="block p-2 text-xs text-gray-600 rounded-md hover:bg-gray-50">‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡ßü ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü</a>
                    <a href="stock_report.html" class="block p-2 text-xs text-gray-600 rounded-md hover:bg-gray-50">‡¶∏‡ßç‡¶ü‡¶ï ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü</a>
                    <a href="#" class="block p-2 text-xs text-gray-600 rounded-md hover:bg-gray-50">‡¶Ö‡¶°‡¶ø‡¶ü ‡¶≤‡¶ó</a>
                </div>
            </div>
            
        </div>

        <!-- System/User Links Separator -->
        <div class="pt-6 mt-6 border-t border-gray-200 space-y-2">
            <!-- Users & Roles (Dropdown Added for better structure) -->
            <div class="sidebar-item">
                <div class="flex items-center justify-between p-3 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-100">
                    <div class="flex items-center">
                        <svg class="nav-icon" data-lucide="users"></svg>
                        ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ ‡¶ì ‡¶≠‡ßÇ‡¶Æ‡¶ø‡¶ï‡¶æ
                    </div>
                    <svg class="w-4 h-4 text-gray-500 transition-transform duration-200" data-lucide="chevron-down"></svg>
                </div>
                <div class="sub-menu ml-4">
                    <a href="all_users.html" class="block p-2 text-xs text-gray-600 rounded-md hover:bg-gray-50">‡¶∏‡¶Æ‡¶∏‡ßç‡¶§ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ</a>
                    <a href="#" class="block p-2 text-xs text-gray-600 rounded-md hover:bg-gray-50">‡¶™‡¶æ‡¶∞‡¶Æ‡¶ø‡¶∂‡¶®</a>
                </div>
            </div>

            <!-- Settings (Dropdown Added) -->
            <div class="sidebar-item">
                <div class="flex items-center justify-between p-3 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-100">
                    <div class="flex items-center">
                        <svg class="nav-icon" data-lucide="settings"></svg>
                        ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏
                    </div>
                    <svg class="w-4 h-4 text-gray-500 transition-transform duration-200" data-lucide="chevron-down"></svg>
                </div>
                <div class="sub-menu ml-4">
                    <a href="#" class="block p-2 text-xs text-gray-600 rounded-md hover:bg-gray-50">‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£</a>
                    <a href="#" class="block p-2 text-xs text-gray-600 rounded-md hover:bg-gray-50">API ‡¶á‡¶®‡ßç‡¶ü‡¶ø‡¶ó‡ßç‡¶∞‡ßá‡¶∂‡¶®</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content Wrapper -->
    <div class="flex-1 flex flex-col overflow-hidden">

        <!-- Top Header Bar -->
        <header class="flex-shrink-0 bg-white shadow-sm border-b border-gray-200 p-4 sticky top-0 z-30">
            <!-- Header content identical to previous version -->
            <div class="flex items-center justify-between">
                
                <!-- Left: Sidebar Toggle -->
                <button id="menu-toggle" class="p-2 rounded-full text-gray-600 hover:bg-gray-100 md:hidden">
                    <svg data-lucide="menu" class="w-6 h-6"></svg>
                </button>
                
                <h1 class="text-xl font-semibold text-gray-800 hidden md:block">IMS ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°</h1>

                <!-- Right: Icons and Profile Dropdown -->
                <div class="flex items-center space-x-4 relative">
                    
                    <!-- Notification Icon -->
                    <button class="p-2 rounded-full text-gray-600 hover:bg-gray-100 relative">
                        <svg data-lucide="bell" class="w-6 h-6"></svg>
                        <span class="absolute top-1 right-1 h-2 w-2 bg-red-500 rounded-full border-2 border-white"></span>
                    </button>
                    
                    <!-- Messages Icon -->
                    <button class="p-2 rounded-full text-gray-600 hover:bg-gray-100 relative">
                        <svg data-lucide="message-square" class="w-6 h-6"></svg>
                        <span class="absolute top-1 right-1 h-2 w-2 bg-yellow-500 rounded-full border-2 border-white"></span>
                    </button>

                    <!-- Profile Dropdown -->
                    <div class="relative">
                        <button id="profile-menu-button" class="flex items-center space-x-2 p-2 rounded-full hover:bg-gray-100">
                            <div class="h-8 w-8 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-sm">JS</div>
                            <span class="text-sm font-medium text-gray-700 hidden sm:block">Jane Smith</span>
                            <svg data-lucide="chevron-down" class="w-4 h-4 text-gray-500"></svg>
                        </button>

                        <!-- Dropdown Content -->
                        <div id="profile-menu" class="absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-xl shadow-lg z-50 origin-top-right hidden">
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-t-xl">
                                <span class="mr-2">üë§</span> ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶¨‡¶ø‡¶¨‡¶∞‡¶£
                            </a>
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                                <span class="mr-2">üîë</span> ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®
                            </a>
                            <div class="border-t border-gray-100"></div>
                            <a href="#" class="block px-4 py-2 text-sm text-red-600 hover:bg-red-50 rounded-b-xl">
                                <span class="mr-2">üö™</span> ‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content Area: Dashboard Specific Content -->
        <main class="main-content flex-1 p-6 md:p-10 transition-all duration-300">
            <!-- Dashboard Title and Info -->
            <header class="mb-8">
                <h2 class="text-3xl md:text-4xl font-extrabold text-gray-900">‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶° ‡¶ì‡¶≠‡¶æ‡¶∞‡¶≠‡¶ø‡¶â</h2>
                <p class="text-gray-500 mt-1">‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º, ‡¶∏‡ßç‡¶ü‡¶ï‡ßá‡¶∞ ‡¶∏‡ßç‡¶§‡¶∞ ‡¶è‡¶¨‡¶Ç ‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶∏‡¶§‡¶∞‡ßç‡¶ï‡¶§‡¶æ‡¶∞ ‡¶∞‡¶ø‡¶Ø‡¶º‡ßá‡¶≤-‡¶ü‡¶æ‡¶á‡¶Æ ‡¶∏‡¶æ‡¶∞‡¶æ‡¶Ç‡¶∂‡•§</p>
            </header>

            <!-- 1. Key Metrics Grid -->
            <section class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-10">
                <!-- Metric Cards (Same as before) -->
                <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-blue-500 transition duration-300 hover:shadow-xl">
                    <p class="text-sm font-medium text-gray-500">‡¶Æ‡ßã‡¶ü ‡¶™‡¶£‡ßç‡¶Ø</p>
                    <p class="text-4xl font-bold text-gray-900 mt-1" id="total-products">1,452</p>
                    <p class="text-xs text-green-500 mt-2 flex items-center">
                        <span class="mr-1">‚ñ≤ 12%</span> ‡¶ó‡¶§ ‡¶Æ‡¶æ‡¶∏‡ßá‡¶∞ ‡¶§‡ßÅ‡¶≤‡¶®‡¶æ‡¶Ø‡¶º
                    </p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-red-500 transition duration-300 hover:shadow-xl">
                    <p class="text-sm font-medium text-gray-500">‡¶¨‡¶æ‡¶ï‡¶ø ‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞</p>
                    <p class="text-4xl font-bold text-red-600 mt-1" id="pending-orders">45</p>
                    <p class="text-xs text-red-500 mt-2 flex items-center">
                        <span class="mr-1">!</span> ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶∂‡¶® ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®
                    </p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-amber-500 transition duration-300 hover:shadow-xl">
                    <p class="text-sm font-medium text-gray-500">‡¶ï‡¶Æ ‡¶∏‡ßç‡¶ü‡¶ï‡ßá‡¶∞ ‡¶Ü‡¶á‡¶ü‡ßá‡¶Æ</p>
                    <p class="text-4xl font-bold text-amber-600 mt-1" id="low-stock-items">18</p>
                    <p class="text-xs text-amber-500 mt-2 flex items-center">
                        <span class="mr-1">~</span> ‡¶™‡ßÅ‡¶®‡¶∞‡¶æ‡¶Ø‡¶º ‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®
                    </p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-green-500 transition duration-300 hover:shadow-xl">
                    <p class="text-sm font-medium text-gray-500">‡¶á‡¶®‡¶≠‡ßá‡¶®‡ßç‡¶ü‡¶∞‡¶ø ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø</p>
                    <p class="text-4xl font-bold text-gray-900 mt-1" id="inventory-value">$1.2M</p>
                    <p class="text-xs text-green-500 mt-2 flex items-center">
                        <span class="mr-1">‚ñ≤ 3%</span> ‡¶Æ‡ßã‡¶ü ‡¶™‡¶£‡ßç‡¶Ø‡ßá‡¶∞ ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø
                    </p>
                </div>
            </section>

            <!-- 2. Charts Section -->
            <section class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-10">
                <div class="bg-white p-6 rounded-xl shadow-md border border-gray-100">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">‡¶Æ‡¶æ‡¶∏‡¶ø‡¶ï ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶™‡ßç‡¶∞‡¶¨‡¶£‡¶§‡¶æ</h3>
                    <div class="h-64 flex items-center justify-center">
                        <canvas id="sales-chart"></canvas>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md border border-gray-100">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶ó‡¶∞‡¶ø ‡¶Ö‡¶®‡ßÅ‡¶∏‡¶æ‡¶∞‡ßá ‡¶∏‡ßç‡¶ü‡¶ï ‡¶¨‡¶ø‡¶§‡¶∞‡¶£</h3>
                    <div class="h-64 flex items-center justify-center">
                        <canvas id="stock-chart"></canvas>
                    </div>
                </div>
            </section>

            <!-- 3. Recent Activity (Orders and Products) -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">

                <!-- Widget 1: Recent Sales Orders Table (Last 5) -->
                <div class="bg-white p-6 rounded-xl shadow-md border border-gray-100">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">‡¶∏‡¶æ‡¶Æ‡ßç‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ï ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞</h3>
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ID</th>
                                    <th class="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡¶ï‡ßç‡¶∞‡ßá‡¶§‡¶æ</th>
                                    <th class="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡¶Æ‡ßã‡¶ü</th>
                                    <th class="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200">
                                <tr><td class="px-3 py-4 whitespace-nowrap text-sm font-medium text-gray-900">#9005</td><td class="px-3 py-4 whitespace-nowrap text-sm text-gray-500">Eve Adams</td><td class="px-3 py-4 whitespace-nowrap text-sm text-gray-500">$95.00</td><td class="px-3 py-4 whitespace-nowrap text-sm"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£</span></td></tr>
                                <tr><td class="px-3 py-4 whitespace-nowrap text-sm font-medium text-gray-900">#9004</td><td class="px-3 py-4 whitespace-nowrap text-sm text-gray-500">David Lee</td><td class="px-3 py-4 whitespace-nowrap text-sm text-gray-500">$210.30</td><td class="px-3 py-4 whitespace-nowrap text-sm"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">‡¶¨‡¶æ‡¶ï‡¶ø</span></td></tr>
                                <tr><td class="px-3 py-4 whitespace-nowrap text-sm font-medium text-gray-900">#9003</td><td class="px-3 py-4 whitespace-nowrap text-sm text-gray-500">Charlie Doe</td><td class="px-3 py-4 whitespace-nowrap text-sm text-gray-500">$89.99</td><td class="px-3 py-4 whitespace-nowrap text-sm"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800">‡¶™‡ßç‡¶∞‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶ï‡¶∞‡¶£</span></td></tr>
                                <tr><td class="px-3 py-4 whitespace-nowrap text-sm font-medium text-gray-900">#9002</td><td class="px-3 py-4 whitespace-nowrap text-sm text-gray-500">Bob Smith</td><td class="px-3 py-4 whitespace-nowrap text-sm text-gray-500">$120.50</td><td class="px-3 py-4 whitespace-nowrap text-sm"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-indigo-100 text-indigo-800">‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡ßü‡ßá‡¶õ‡ßá</span></td></tr>
                                <tr><td class="px-3 py-4 whitespace-nowrap text-sm font-medium text-gray-900">#9001</td><td class="px-3 py-4 whitespace-nowrap text-sm text-gray-500">Alice Johnson</td><td class="px-3 py-4 whitespace-nowrap text-sm text-gray-500">$450.00</td><td class="px-3 py-4 whitespace-nowrap text-sm"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">‡¶¨‡¶æ‡¶ï‡¶ø</span></td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Widget 2: Latest Products List -->
                <div class="bg-white p-6 rounded-xl shadow-md border border-gray-100">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">‡¶∏‡¶æ‡¶Æ‡ßç‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ï ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶™‡¶£‡ßç‡¶Ø</h3>
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">SKU</th>
                                    <th class="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡¶™‡¶£‡ßç‡¶Ø‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ</th>
                                    <th class="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡¶∏‡ßç‡¶ü‡¶ï</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200">
                                <tr><td class="px-3 py-4 whitespace-nowrap text-sm font-medium text-gray-900">SKU-205</td><td class="px-3 py-4 whitespace-nowrap text-sm text-gray-700">Premium Wireless Mouse</td><td class="px-3 py-4 whitespace-nowrap text-sm text-green-600">320</td></tr>
                                <tr><td class="px-3 py-4 whitespace-nowrap text-sm font-medium text-gray-900">SKU-206</td><td class="px-3 py-4 whitespace-nowrap text-sm text-gray-700">4K Ultra Monitor 32"</td><td class="px-3 py-4 whitespace-nowrap text-sm text-green-600">85</td></tr>
                                <tr><td class="px-3 py-4 whitespace-nowrap text-sm font-medium text-gray-900">SKU-207</td><td class="px-3 py-4 whitespace-nowrap text-sm text-gray-700">Ergonomic Keyboard Blue</td><td class="px-3 py-4 whitespace-nowrap text-sm text-green-600">140</td></tr>
                                <tr><td class="px-3 py-4 whitespace-nowrap text-sm font-medium text-gray-900">SKU-208</td><td class="px-3 py-4 whitespace-nowrap text-sm text-gray-700">USB-C Hub Pro</td><td class="px-3 py-4 whitespace-nowrap text-sm text-green-600">550</td></tr>
                                <tr><td class="px-3 py-4 whitespace-nowrap text-sm font-medium text-gray-900">SKU-209</td><td class="px-3 py-4 whitespace-nowrap text-sm text-gray-700">Noise Cancelling Headphone</td><td class="px-3 py-4 whitespace-nowrap text-sm text-red-600">10</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 4. Critical Alerts -->
                <div class="lg:col-span-2 bg-white p-6 rounded-xl shadow-md border border-gray-100">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">‡¶ú‡¶∞‡ßÅ‡¶∞‡ßÄ ‡¶á‡¶®‡¶≠‡ßá‡¶®‡ßç‡¶ü‡¶∞‡¶ø ‡¶∏‡¶§‡¶∞‡ßç‡¶ï‡¶§‡¶æ</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <li class="p-3 bg-red-50 border border-red-200 rounded-lg flex items-start list-none">
                            <span class="text-red-500 text-xl mr-3">üî•</span>
                            <div>
                                <p class="text-sm font-medium text-red-800">Product A ‡¶∏‡ßç‡¶ü‡¶ï ‡¶∂‡ßá‡¶∑</p>
                                <p class="text-xs text-red-600">SKU-001 ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶ø ‡¶π‡¶Ø‡¶º‡ßá ‡¶ó‡ßá‡¶õ‡ßá‡•§ ‡¶Ö‡¶¨‡¶ø‡¶≤‡¶Æ‡ßç‡¶¨‡ßá PO ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®‡•§</p>
                            </div>
                        </li>
                        <li class="p-3 bg-amber-50 border border-amber-200 rounded-lg flex items-start list-none">
                            <span class="text-amber-500 text-xl mr-3">‚ö†Ô∏è</span>
                            <div>
                                <p class="text-sm font-medium text-amber-800">‡¶∏‡ßç‡¶ü‡¶ï ‡¶Ö‡¶∏‡¶ô‡ßç‡¶ó‡¶§‡¶ø ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶ó‡ßá‡¶õ‡ßá</p>
                                <p class="text-xs text-amber-600">‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶® WH-A: ‡¶∏‡¶æ‡¶á‡¶ï‡ßá‡¶≤ ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶•‡ßá‡¶ï‡ßá ‡ß´ ‡¶á‡¶â‡¶®‡¶ø‡¶ü ‡¶Ö‡¶®‡ßÅ‡¶™‡¶∏‡ßç‡¶•‡¶ø‡¶§‡•§</p>
                            </div>
                        </li>
                        <li class="p-3 bg-blue-50 border border-blue-200 rounded-lg flex items-start list-none">
                            <span class="text-blue-500 text-xl mr-3">üì¶</span>
                            <div>
                                <p class="text-sm font-medium text-blue-800">‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶£‡ßç‡¶Ø ‡¶™‡ßç‡¶∞‡¶æ‡¶™‡ßç‡¶§</p>
                                <p class="text-xs text-blue-600">PO #P0045 ‡¶™‡ßç‡¶∞‡¶æ‡¶™‡ßç‡¶§ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£‡ßá‡¶∞ ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ‡¶Ø‡¶º‡•§</p>
                            </div>
                        </li>
                    </div>
                </div>

            </div>

        </main>
    </div> <!-- End Main Content Wrapper -->

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const sidebar = document.getElementById('sidebar');
            const menuToggle = document.getElementById('menu-toggle');
            const profileMenuButton = document.getElementById('profile-menu-button');
            const profileMenu = document.getElementById('profile-menu');
            const sidebarItems = document.querySelectorAll('.sidebar-item');

            // --- 1. Sidebar Toggle Logic (Mobile) ---
            const isMobile = () => window.innerWidth < 768;

            if (isMobile()) {
                sidebar.classList.remove('is-open'); 
            }

            menuToggle.addEventListener('click', () => {
                sidebar.classList.toggle('is-open');
            });

            document.addEventListener('click', (event) => {
                if (isMobile() && sidebar.classList.contains('is-open') && 
                    !sidebar.contains(event.target) && !menuToggle.contains(event.target)) {
                    sidebar.classList.remove('is-open');
                }
            });


            // --- 2. Profile Dropdown Toggle ---
            profileMenuButton.addEventListener('click', (e) => {
                e.stopPropagation(); 
                profileMenu.classList.toggle('hidden');
            });

            document.addEventListener('click', (e) => {
                if (!profileMenu.contains(e.target) && !profileMenuButton.contains(e.target)) {
                    profileMenu.classList.add('hidden');
                }
            });

            // --- 3. Sidebar Dropdown Logic (Fixed Rotation) ---
            sidebarItems.forEach(item => {
                const header = item.querySelector(':scope > div:first-child');
                const subMenu = item.querySelector('.sub-menu');
                const chevron = header.querySelector('svg:last-child');
                
                // Check if current page is within this dropdown menu
                const currentPath = window.location.pathname.split('/').pop();
                const isActiveParent = Array.from(subMenu.querySelectorAll('a')).some(link => {
                    return link.href.split('/').pop() === currentPath;
                });

                if (isActiveParent) {
                    subMenu.classList.add('is-open');
                    chevron.style.transform = 'rotate(180deg)';
                }


                header.addEventListener('click', () => {
                    // Close all other open menus first
                    sidebarItems.forEach(otherItem => {
                        if (otherItem !== item) {
                            const otherSubMenu = otherItem.querySelector('.sub-menu');
                            const otherChevron = otherItem.querySelector('svg:last-child');
                            otherSubMenu.classList.remove('is-open');
                            otherChevron.style.transform = 'rotate(0deg)';
                        }
                    });

                    // Toggle current menu
                    subMenu.classList.toggle('is-open');
                    if (subMenu.classList.contains('is-open')) {
                        chevron.style.transform = 'rotate(180deg)';
                    } else {
                        chevron.style.transform = 'rotate(0deg)';
                    }
                });

                const subLinks = subMenu.querySelectorAll('a');
                subLinks.forEach(link => {
                    if (link.href.split('/').pop() === currentPath) {
                        link.classList.add('active'); // Add active class for highlighting
                    }
                    link.addEventListener('click', () => {
                        if (isMobile()) {
                            sidebar.classList.remove('is-open');
                        }
                    });
                });
            });

            // --- 4. Chart.js Initialization ---
            function initializeCharts() {
                // Dummy Data
                const salesData = {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'],
                    datasets: [{
                        label: '‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£ (‡¶á‡¶â‡¶®‡¶ø‡¶ü)',
                        data: [120, 150, 180, 220, 190, 250, 280],
                        borderColor: '#3b82f6', 
                        backgroundColor: 'rgba(59, 130, 246, 0.2)',
                        fill: true,
                        tension: 0.3
                    }]
                };

                const stockData = {
                    labels: ['Electronics', 'Office Supplies', 'Apparel', 'Tools'],
                    datasets: [{
                        label: '‡¶∏‡ßç‡¶ü‡¶ï ‡¶¨‡¶ø‡¶§‡¶∞‡¶£',
                        data: [40, 35, 15, 10], 
                        backgroundColor: [
                            '#3b82f6', 
                            '#10b981', 
                            '#f59e0b', 
                            '#ef4444'  
                        ],
                        hoverOffset: 8
                    }]
                };

                // Monthly Sales Trend Chart (Line Chart)
                new Chart(document.getElementById('sales-chart'), {
                    type: 'line',
                    data: salesData,
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false },
                            title: { display: false }
                        },
                        scales: {
                            y: { beginAtZero: true, title: { display: true, text: '‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡ßü ‡¶á‡¶â‡¶®‡¶ø‡¶ü' } },
                            x: { title: { display: true, text: '‡¶Æ‡¶æ‡¶∏' } }
                        }
                    }
                });

                // Stock Distribution Chart (Doughnut Chart)
                new Chart(document.getElementById('stock-chart'), {
                    type: 'doughnut',
                    data: stockData,
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { position: 'right' },
                            title: { display: false }
                        }
                    }
                });
            }

            initializeCharts();
        });
    </script>
</body>
</html>